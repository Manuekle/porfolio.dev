---
import Layout from '../../layouts/Layout.astro'
import TopBar from '../../components/TopBar.astro'
import Hero from '../../components/Hero.astro'
import BentoCard from '../../components/BentoCard.astro'
import ProjectDialog from '../../components/ProjectDialog.astro'
import { getTranslations, type Language } from '../../i18n/translations'
import { Image } from 'astro:assets'

const lang: Language = 'es'
const t = getTranslations(lang)

// Tech Stack Icons
import ReactIcon from '../../assets/icons/ReactIcon.astro'
import NextIcon from '../../assets/icons/NextIcon.astro'
import TypescriptIcon from '../../assets/icons/TypescriptIcon.astro'
import TailwindIcon from '../../assets/icons/TailwindIcon.astro'
import NodeIcon from '../../assets/icons/NodeIcon.astro'
import PrismaIcon from '../../assets/icons/PrismaIcon.astro'
import PythonIcon from '../../assets/icons/PythonIcon.astro'
import PostgreIcon from '../../assets/icons/PostgreIcon.astro'
import GitIcon from '../../assets/icons/GitIcon.astro'
import FlutterIcon from '../../assets/icons/FlutterIcon.astro'
import DartIcon from '../../assets/icons/DartIcon.astro'
import MongoIcon from '../../assets/icons/MongoIcon.astro'
import FigmaIcon from '../../assets/icons/FigmaIcon.astro'
import DockerIcon from '../../assets/icons/DockerIcon.astro'
import AstroIcon from '../../assets/icons/AstroIcon.astro'
import JavascriptIcon from '../../assets/icons/JavascriptIcon.astro'
import MySQLIcon from '../../assets/icons/MySQLIcon.astro'
import PostmanIcon from '../../assets/icons/PostmanIcon.astro'
import VercelIcon from '../../assets/icons/VercelIcon.astro'
import OpenAIIcon from '../../assets/icons/OpenAIIcon.astro'
import GeminiIcon from '../../assets/icons/GeminiIcon.astro'
import AnthropicIcon from '../../assets/icons/AnthropicIcon.astro'
import MCPIcon from '../../assets/icons/MCPIcon.astro'
import N8nIcon from '../../assets/icons/N8nIcon.astro'
import MarkdownIcon from '../../assets/icons/MarkdownIcon.astro'

const name = 'Manuel Erazo'
const title = 'Web & AI Developer | React, Next.js & LLM Integrations'

const experience = [
  {
    year: '2025',
    title: lang === 'es' ? 'Desarrollador Web' : 'Web Developer',
    organization: 'Smurfit Kappa Cartón Colombia',
  },
  {
    year: lang === 'es' ? '2023 - Presente' : '2023 - Present',
    title: lang === 'es' ? 'Desarrollador Web Freelance' : 'Freelance Web Developer',
    organization: lang === 'es' ? 'Proyectos Freelance / Académicos' : 'Freelance / Academic Projects',
  },
  {
    year: lang === 'es' ? '2021 - 2026' : '2021 - 2026',
    title: lang === 'es' ? 'Estudiante de Ingeniería de Sistemas' : 'Computer Science Student',
    organization: 'Fundación Universitaria de Popayán',
  },
]

const projects = [
  {
    title: 'GymRat+',
    description:
      lang === 'es' 
        ? 'Una aplicación integral de seguimiento de fitness diseñada para ayudar a los usuarios a monitorear sus entrenamientos, rastrear el progreso y alcanzar sus objetivos de condición física con una interfaz intuitiva.'
        : 'A comprehensive fitness tracking application designed to help users monitor their workouts, track progress, and achieve their fitness goals with an intuitive interface.',
    image: 'https://manudev.vercel.app/gym-banner.png',
    techStack: ['Next.js', 'TypeScript', 'Prisma', 'PostgreSQL', 'Tailwind CSS'],
    features: [
      lang === 'es' ? 'Seguimiento de entrenamientos e historial' : 'Workout tracking and history',
      lang === 'es' ? 'Visualización de progreso con gráficos' : 'Progress visualization with charts',
      lang === 'es' ? 'Biblioteca de ejercicios personalizada' : 'Custom exercise library',
      lang === 'es' ? 'Notificaciones en tiempo real' : 'Real-time notifications',
      lang === 'es' ? 'Diseño responsivo para móvil y web' : 'Responsive design for mobile and web',
    ],
    webLink: 'https://gymratplus.vercel.app/',
  },
  {
    title: 'ButterflyAR',
    description:
      lang === 'es'
        ? 'Una aplicación educativa innovadora de realidad aumentada que trae a la vida las especies de mariposas, permitiendo a los usuarios explorar y aprender sobre diferentes mariposas en un entorno 3D interactivo.'
        : 'An innovative augmented reality educational app that brings butterfly species to life, allowing users to explore and learn about different butterflies in an interactive 3D environment.',
    image: 'https://manudev.vercel.app/butterfly-banner.png',
    techStack: ['Flutter', 'ARCore', 'ARKit', 'Dart'],
    features: [
      lang === 'es' ? 'Visualización AR de especies de mariposas' : 'AR visualization of butterfly species',
      lang === 'es' ? 'Modelos 3D interactivos' : 'Interactive 3D models',
      lang === 'es' ? 'Contenido educativo y datos' : 'Educational content and facts',
      lang === 'es' ? 'Identificación de especies' : 'Species identification',
      lang === 'es' ? 'Soporte multiplataforma (iOS y Android)' : 'Cross-platform support (iOS & Android)',
    ],
    githubLink: 'https://github.com/Manuekle/butterflyar-mobile',
  },
  {
    title: 'QR Attendance',
    description:
      lang === 'es'
        ? 'Un moderno sistema de gestión de asistencia usando códigos QR para check-ins rápidos y eficientes de estudiantes, diseñado para instituciones educativas para optimizar el seguimiento de asistencia.'
        : 'A modern attendance management system using QR codes for quick and efficient student check-ins, designed for educational institutions to streamline attendance tracking.',
    image: 'https://manudev.vercel.app/edutrack-banner.png',
    techStack: ['Next.js', 'React', 'Node.js', 'MongoDB', 'QR Code API'],
    features: [
      lang === 'es' ? 'Generación de códigos QR para clases' : 'QR code generation for classes',
      lang === 'es' ? 'Seguimiento de asistencia en tiempo real' : 'Real-time attendance tracking',
      lang === 'es' ? 'Paneles de estudiantes y profesores' : 'Student and teacher dashboards',
      lang === 'es' ? 'Reportes y análisis de asistencia' : 'Attendance reports and analytics',
      lang === 'es' ? 'Notificaciones por correo electrónico' : 'Email notifications',
    ],
    webLink: 'https://edutrack-fup.vercel.app/',
    githubLink: 'https://github.com/Manuekle/edutrack',
  },
]
---

<Layout title="Manuel Erazo - Web Developer" lang={lang}>
  <TopBar nav={{ home: t.nav.home, services: t.nav.services }} />

  <Hero name={name} title={title} photoUrl="/placeholder.jpeg" t={t.hero} />

  <!-- Bento Grid -->
  <div class="pb-20 bg-surface">
    <div class="mx-auto max-w-5xl px-6">
      <!-- First Row: 3 columns -->
      <div class="mb-6 grid grid-cols-1 gap-6 md:grid-cols-3">
        <!-- My Experience -->
        <BentoCard data-aos="fade-up" data-aos-delay="100">
          <h3
            class="mb-4 w-fit rounded-full bg-white px-3 py-1 text-xs font-semibold tracking-[-0.02em] text-zinc-500"
          >
            {t.experience.title}
          </h3>
          <div class="relative">
            <!-- Fade effect top -->
            <div
              class="pointer-events-none absolute top-0 right-0 left-0 z-10 h-8 bg-gradient-to-b from-[#F8F8F8] to-transparent"
            >
            </div>

            <!-- Scrollable content -->
            <div
              class="scrollbar-hide max-h-[200px] space-y-4 overflow-y-auto pr-2"
              style="scrollbar-width: none; -ms-overflow-style: none;"
            >
              <style>
                .scrollbar-hide::-webkit-scrollbar {
                  display: none;
                }
              </style>
              {
                experience.map((exp) => (
                  <div class="flex items-start gap-3">
                    <div class="mt-2 h-2 w-2 flex-shrink-0 rounded-full bg-black" />
                    <div>
                      <div class="text-xs font-semibold">{exp.title}</div>
                      <div class="text-xs text-gray-600">
                        {exp.year} · {exp.organization}
                      </div>
                    </div>
                  </div>
                ))
              }
            </div>

            <!-- Fade effect bottom -->
            <div
              class="pointer-events-none absolute right-0 bottom-0 left-0 z-10 h-8 bg-gradient-to-t from-[#F8F8F8] to-transparent"
            >
            </div>
          </div>
        </BentoCard>

        <!-- My Projects -->
        <BentoCard data-aos="fade-up" data-aos-delay="200">
          <h3
            class="mb-4 w-fit rounded-full bg-white px-3 py-1 text-xs font-semibold tracking-[-0.02em] text-zinc-500"
          >
            {t.projects.title}
          </h3>
          <div class="grid grid-cols-3 gap-2">
            {
              projects.map((project) => (
                <button
                  class="open-project-dialog aspect-square overflow-hidden rounded-lg transition-all hover:scale-105 hover:shadow-lg"
                  data-project={project.title.toLowerCase().replace(/\s+/g, '-')}
                >
                  <Image
                    src={project.image}
                    alt={project.title}
                    width={100}
                    height={100}
                    class="h-full w-full object-cover"
                  />
                </button>
              ))
            }
          </div>
          <div class="mt-3 text-xs text-gray-600">3 {t.projects.clickToView}</div>
        </BentoCard>

        <!-- Tech Stack -->
        <BentoCard data-aos="fade-up" data-aos-delay="300">
          <h3
            class="mb-4 w-fit rounded-full bg-white px-3 py-1 text-xs font-semibold tracking-[-0.02em] text-zinc-500"
          >
            {t.techStack.title}
          </h3>

          <div class="relative">
            <!-- Fade effect top -->
            <div
              class="pointer-events-none absolute top-0 right-0 left-0 z-10 h-8 bg-gradient-to-b from-[#F8F8F8] to-transparent"
            >
            </div>

            <!-- Scrollable content -->
            <div
              class="scrollbar-hide max-h-[200px] space-y-4 overflow-y-auto pr-2"
              style="scrollbar-width: none; -ms-overflow-style: none;"
            >
              <style>
                .scrollbar-hide::-webkit-scrollbar {
                  display: none;
                }
              </style>

              <!-- Frontend -->
              <div>
                <div class="mb-2 text-[10px] font-semibold text-gray-400 uppercase">{t.techStack.frontend}</div>
                <div class="flex flex-wrap gap-2">
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <ReactIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">React</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <NextIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Next.js</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <AstroIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Astro</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <TypescriptIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">TypeScript</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <JavascriptIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">JavaScript</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <TailwindIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Tailwind</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <FlutterIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Flutter</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <DartIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Dart</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <MarkdownIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Markdown</span>
                  </div>
                </div>
              </div>

              <!-- Backend -->
              <div>
                <div class="mb-2 text-[10px] font-semibold text-gray-400 uppercase">{t.techStack.backend}</div>
                <div class="flex flex-wrap gap-2">
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <NodeIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Node.js</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <PythonIcon class="h-6 w-6" />
                    <span class="text-[10px] text-black">Python</span>
                  </div>
                </div>
              </div>

              <!-- Database -->
              <div>
                <div class="mb-2 text-[10px] font-semibold text-gray-400 uppercase">{t.techStack.database}</div>
                <div class="flex flex-wrap gap-2">
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <PostgreIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">PostgreSQL</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <MySQLIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">MySQL</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <PrismaIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Prisma</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <MongoIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">MongoDB</span>
                  </div>
                </div>
              </div>

              <!-- Tools -->
              <div>
                <div class="mb-2 text-[10px] font-semibold text-gray-400 uppercase">{t.techStack.tools}</div>
                <div class="flex flex-wrap gap-2">
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <GitIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Git</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <FigmaIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Figma</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <DockerIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Docker</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <PostmanIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Postman</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <VercelIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Vercel</span>
                  </div>
                </div>
              </div>

              <!-- AI & LLMs -->
              <div>
                <div class="mb-2 text-[10px] font-semibold text-gray-400 uppercase">{t.techStack.ai_llms}</div>
                <div class="flex flex-wrap gap-2">
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <OpenAIIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">OpenAI</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <GeminiIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Gemini</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <AnthropicIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">Anthropic</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <MCPIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">MCP</span>
                  </div>
                  <div class="flex items-center gap-1.5 rounded-full bg-white px-2 py-1">
                    <N8nIcon class="h-4 w-4" />
                    <span class="text-[10px] text-black">n8n</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Fade effect bottom -->
            <div
              class="pointer-events-none absolute right-0 bottom-0 left-0 z-10 h-8 bg-gradient-to-t from-[#F8F8F8] to-transparent"
            >
            </div>
          </div>
        </BentoCard>
      </div>

      <!-- Second Row: 2 columns -->
      <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
        <!-- Location -->
        <BentoCard class="relative overflow-hidden !p-0" data-aos="fade-up" data-aos-delay="400">
          <div class="relative h-full min-h-[300px]">
            <!-- Map Background -->
            <img
              src="/map.png"
              alt="Popayán, Colombia"
              class="absolute inset-0 h-full w-full object-cover"
            />

            <!-- Gradient Overlay -->
            <div
              class="pointer-events-none absolute inset-0 bg-gradient-to-b from-black/60 via-black/30 to-black/60"
            >
            </div>

            <!-- Map Button - Top Right -->
            <div class="pointer-events-auto absolute top-4 right-4 z-10">
              <a
                href="https://maps.google.com/?q=Popayán,Colombia"
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center gap-2 rounded-full bg-white px-3 py-1 text-xs font-semibold text-black transition-colors hover:bg-gray-100"
              >
                Map
              </a>
            </div>

            <!-- Location Text - Centered -->
            <div
              class="pointer-events-none absolute inset-0 flex flex-col items-center justify-center text-center"
            >
              <div class="mb-1 text-4xl font-bold tracking-wider text-white">POPAYÁN</div>
              <div class="text-xs text-white/90">COLOMBIA</div>
            </div>
          </div>
        </BentoCard>

        <!-- How I work -->
        <BentoCard data-aos="fade-up" data-aos-delay="500">
          <h3
            class="mb-4 w-fit rounded-full bg-white px-3 py-1 text-xs font-semibold tracking-[-0.02em] text-zinc-500"
          >
            {t.howIWork.title}
          </h3>

          <!-- Content Container with Slide Animation -->
          <div class="relative mb-4 h-[120px] overflow-hidden">
            <div id="work-content" class="transition-all duration-300 ease-in-out">
              <div class="work-step active" data-step="1">
                <div class="mb-2 text-lg font-semibold">1 {t.howIWork.step1}</div>
                <p class="text-xs text-gray-600">
                  {t.howIWork.step1Desc}
                </p>
              </div>
              <div class="work-step hidden" data-step="2">
                <div class="mb-2 text-lg font-semibold">2 {t.howIWork.step2}</div>
                <p class="text-xs text-gray-600">
                  {t.howIWork.step2Desc}
                </p>
              </div>
              <div class="work-step hidden" data-step="3">
                <div class="mb-2 text-lg font-semibold">3 {t.howIWork.step3}</div>
                <p class="text-xs text-gray-600">
                  {t.howIWork.step3Desc}
                </p>
              </div>
              <div class="work-step hidden" data-step="4">
                <div class="mb-2 text-lg font-semibold">4 {t.howIWork.step4}</div>
                <p class="text-xs text-gray-600">
                  {t.howIWork.step4Desc}
                </p>
              </div>
              <div class="work-step hidden" data-step="5">
                <div class="mb-2 text-lg font-semibold">5 {t.howIWork.step5}</div>
                <p class="text-xs text-gray-600">
                  {t.howIWork.step5Desc}
                </p>
              </div>
            </div>
          </div>

          <!-- Step Buttons -->
          <div
            class="scrollbar-hide -mx-2 flex gap-1.5 overflow-x-auto px-2"
            style="scrollbar-width: none; -ms-overflow-style: none;"
          >
            <style>
              .scrollbar-hide::-webkit-scrollbar {
                display: none;
              }
            </style>
            <button
              class="work-step-btn active flex-shrink-0 rounded-full bg-black px-3 py-1.5 text-[10px] font-medium text-white transition-colors"
              data-step="1"
            >
              Step 1
            </button>
            <button
              class="work-step-btn flex-shrink-0 rounded-full bg-gray-200 px-3 py-1.5 text-[10px] font-medium text-gray-600 transition-colors"
              data-step="2"
            >
              Step 2
            </button>
            <button
              class="work-step-btn flex-shrink-0 rounded-full bg-gray-200 px-3 py-1.5 text-[10px] font-medium text-gray-600 transition-colors"
              data-step="3"
            >
              Step 3
            </button>
            <button
              class="work-step-btn flex-shrink-0 rounded-full bg-gray-200 px-3 py-1.5 text-[10px] font-medium text-gray-600 transition-colors"
              data-step="4"
            >
              Step 4
            </button>
            <button
              class="work-step-btn flex-shrink-0 rounded-full bg-gray-200 px-3 py-1.5 text-[10px] font-medium text-gray-600 transition-colors"
              data-step="5"
            >
              Step 5
            </button>
          </div>
        </BentoCard>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="py-8 bg-surface">
    <div class="mx-auto max-w-5xl px-6">
      <div class="flex flex-col items-center justify-between gap-4 md:flex-row">
        <div class="text-xs text-gray-600">
          {t.footer.copyright} {new Date().getFullYear()} Manuel Erazo
        </div>
        <div class="flex gap-6">
          <a
            href="https://github.com/manuekle"
            target="_blank"
            class="text-xs text-gray-600 hover:text-black"
          >
            {t.footer.github}
          </a>
          <a
            href="https://www.linkedin.com/in/manuekle"
            target="_blank"
            class="text-xs text-gray-600 hover:text-black"
          >
            {t.footer.linkedin}
          </a>
          <a href="mailto:meerazo7@hotmail.com" class="text-xs text-gray-600 hover:text-black">
            {t.footer.email}
          </a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Project Dialogs -->
  {projects.map((project) => <ProjectDialog project={project} isOpen={false} t={t.projectDialog} />)}

  <!-- Dialog Open Script -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Project Dialogs
      const projectButtons = document.querySelectorAll('.open-project-dialog')

      projectButtons.forEach((button) => {
        button.addEventListener('click', () => {
          const projectId = button.getAttribute('data-project')
          const dialog = document.getElementById(`dialog-${projectId}`)

          if (dialog) {
            dialog.classList.remove('opacity-0', 'pointer-events-none')
          }
        })
      })

      // Work Process Tabs
      const stepButtons = document.querySelectorAll('.work-step-btn')
      const workSteps = document.querySelectorAll('.work-step')
      const workContent = document.getElementById('work-content')
      let currentStep = 1

      stepButtons.forEach((button) => {
        button.addEventListener('click', () => {
          const newStep = parseInt(button.getAttribute('data-step'))

          if (newStep === currentStep) return

          // Determine animation direction
          const direction = newStep > currentStep ? 'left' : 'right'

          // Add slide-out animation
          workContent.style.transform =
            direction === 'left' ? 'translateX(-20px)' : 'translateX(20px)'
          workContent.style.opacity = '0'

          setTimeout(() => {
            // Hide all steps
            workSteps.forEach((step) => {
              step.classList.add('hidden')
              step.classList.remove('active')
            })

            // Show new step
            const newStepElement = document.querySelector(`.work-step[data-step="${newStep}"]`)
            if (newStepElement) {
              newStepElement.classList.remove('hidden')
              newStepElement.classList.add('active')
            }

            // Update button states
            stepButtons.forEach((btn) => {
              btn.classList.remove('active', 'bg-black', 'text-white')
              btn.classList.add('bg-gray-200', 'text-gray-600')
            })
            button.classList.add('active', 'bg-black', 'text-white')
            button.classList.remove('bg-gray-200', 'text-gray-600')

            // Slide-in from opposite direction
            workContent.style.transform =
              direction === 'left' ? 'translateX(20px)' : 'translateX(-20px)'

            setTimeout(() => {
              workContent.style.transform = 'translateX(0)'
              workContent.style.opacity = '1'
            }, 50)

            currentStep = newStep
          }, 150)
        })
      })
    })
  </script>
</Layout>
